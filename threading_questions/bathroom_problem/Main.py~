import threading
import random
import Users
from Bathroom import Bathroom


b = Bathroom()

def create_users():
    males_allowed, females_allowed, any_allowed = create_conditional_variables(b)
    Users.Male(males_allowed, females_allowed, b).start()
    for i in range(10):
        u = Users.Female(females_allowed, males_allowed, b).start()
    for j in range(4):
        u = Users.Male(males_allowed, females_allowed, b).start()


def create_conditional_variables(bathroom):
    """
    Return three condition variables linked to Bathroom's lock
    """
    return (threading.Condition(bathroom.get_lock()), 
            threading.Condition(bathroom.get_lock()),
            threading.Condition(bathroom.get_lock()))
    


def Main():
    t = threading.Thread(target=create_users)
    t.start()
    t.join()


if __name__ == "__main__":
    Main()





    
